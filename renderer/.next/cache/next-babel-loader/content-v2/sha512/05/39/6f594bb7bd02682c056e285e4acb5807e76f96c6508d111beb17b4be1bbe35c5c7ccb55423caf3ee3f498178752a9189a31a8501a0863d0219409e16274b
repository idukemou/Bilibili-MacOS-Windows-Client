{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/yuxuan/Desktop/Bilibili-MacOS-Windows-Client/renderer/components/layout/contentFrame.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport store from \"../../redux/store\";\nexport default class ContentFrame extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      availableSize: store.getState().availableSize\n    };\n    store.subscribe(() => this.setState({\n      availableSize: store.getState().availableSize\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        width: `${this.props.children.length * 100}%`,\n        height: `${this.state.availableSize.height}px`,\n        overflow: 'hidden',\n        position: 'absolute',\n        transition: 'left 0.3s',\n        left: `${this.props.activeIndex * -this.state.availableSize.width}px`\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport class Content extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      availableSize: store.getState().availableSize,\n      windowHeight: 0,\n      currentHeight: 0,\n      loading: false,\n      scrollTop: 0,\n      containerRealHeightRecommend: 0\n    };\n    store.subscribe(() => this.setState({\n      availableSize: store.getState().availableSize,\n      containerRealHeightRecommend: store.getState().containerRealHeightRecommend\n    }));\n  }\n\n  componentDidMount() {\n    const _this = this;\n\n    this.ref.addEventListener('scroll', () => {\n      this.setState({\n        scrollTop: _this.ref.scrollTop\n      });\n\n      if (_this.ref.scrollHeight - _this.state.availableSize.height === _this.ref.scrollTop) {\n        this.setState({\n          loading: true\n        });\n      } else {\n        this.setState({\n          loading: false\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        width: this.state.availableSize.width + 'px',\n        height: this.state.availableSize.height + 'px',\n        float: \"left\",\n        overflow: 'hidden',\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        alignContent: 'flex-start'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        ref: ref => this.ref = ref,\n        className: \"recommend-item-wrapper\",\n        style: {\n          width: this.state.availableSize.width + 'px',\n          height: this.state.containerRealHeightRecommend // height: this.state.availableSize.height+'px',\n\n        },\n        children: React.Children.map(this.props.children, child => {\n          if (! /*#__PURE__*/React.isValidElement(child)) {\n            return null;\n          }\n\n          const childProps = _objectSpread(_objectSpread({}, child.props), {}, {\n            loading: this.state.loading,\n            position: this.state.scrollTop\n          });\n\n          return /*#__PURE__*/React.cloneElement(child, childProps);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/yuxuan/Desktop/Bilibili-MacOS-Windows-Client/renderer/components/layout/contentFrame.jsx"],"names":["React","store","ContentFrame","Component","constructor","props","state","availableSize","getState","subscribe","setState","render","width","children","length","height","overflow","position","transition","left","activeIndex","Content","windowHeight","currentHeight","loading","scrollTop","containerRealHeightRecommend","componentDidMount","_this","ref","addEventListener","scrollHeight","float","display","flexWrap","justifyContent","alignContent","Children","map","child","isValidElement","childProps","cloneElement"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport store from \"../../redux/store\";\n\nexport default class ContentFrame extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            availableSize: store.getState().availableSize\n        }\n        store.subscribe(() => this.setState({\n            availableSize: store.getState().availableSize\n        }))\n    }\n\n\n    render() {\n        return(\n            <section\n                style={{\n                    width:(`${this.props.children.length * 100}%`),\n                    height:(`${this.state.availableSize.height}px`),\n                    overflow: 'hidden',\n                    position: 'absolute',\n                    transition: 'left 0.3s',\n                    left: (`${this.props.activeIndex * -this.state.availableSize.width}px`)\n                }}>\n                {\n                    this.props.children\n                }\n            </section>\n        )\n    }\n}\n\nexport class Content extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            availableSize: store.getState().availableSize,\n            windowHeight: 0,\n            currentHeight: 0,\n            loading: false,\n            scrollTop: 0,\n            containerRealHeightRecommend: 0\n        }\n        store.subscribe(() => this.setState({\n            availableSize: store.getState().availableSize,\n            containerRealHeightRecommend: store.getState().containerRealHeightRecommend\n        }))\n    }\n\n    componentDidMount() {\n        const _this = this;\n        this.ref.addEventListener('scroll', () => {\n\n            this.setState({\n                scrollTop: _this.ref.scrollTop\n            })\n\n            if (_this.ref.scrollHeight - _this.state.availableSize.height === _this.ref.scrollTop) {\n                this.setState({\n                    loading: true\n                })\n            } else {\n                this.setState({\n                    loading: false\n                })\n            }\n        })\n    }\n\n    render(){\n        return(\n            <section\n                style={{\n                    width: this.state.availableSize.width+'px',\n                    height: this.state.availableSize.height+'px',\n                    float: \"left\",\n                    overflow: 'hidden',\n                    display: 'flex',\n                    flexWrap: 'wrap',\n                    justifyContent: 'center',\n                    alignContent: 'flex-start',\n                }}\n            >\n                <section\n                    ref={ref => this.ref = ref}\n                    className='recommend-item-wrapper'\n                    style={{\n                        width: this.state.availableSize.width+'px',\n                        height: this.state.containerRealHeightRecommend\n                        // height: this.state.availableSize.height+'px',\n                    }}\n                >\n                    {\n                        React.Children.map(this.props.children, (child) => {\n                            if (!React.isValidElement(child)) {\n                                return null\n                            }\n                            const childProps = {\n                                ...child.props,\n                                loading: this.state.loading,\n                                position: this.state.scrollTop\n                            }\n                            return React.cloneElement(child, childProps)\n                        })\n                    }\n                </section>\n            </section>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}