{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport \"antd/lib/list/style/css\";\nimport _List from \"antd/lib/list\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport \"antd/lib/button/style/css\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style/css\";\nimport _Input from \"antd/lib/input\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport \"antd/lib/select/style/css\";\nimport _Select from \"antd/lib/select\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { changeInputAction, addItemAction, removeItemAction, getCountryListAction } from \"../redux/actionCreators\";\nimport React from 'react';\nimport Head from 'next/head';\nimport store from '../redux/store';\nimport electron from 'electron';\nconst {\n  Option,\n  OptGroup\n} = _Select;\nconst ipcRenderer = electron.ipcRenderer || false;\n\nif (ipcRenderer) {\n  ipcRenderer.send('request_country_list');\n  ipcRenderer.on('fetch_country_list', (event, data) => {\n    store.dispatch(getCountryListAction(data));\n  });\n}\n\nclass Home extends React.Component {\n  static async getInitialProps(ctx) {\n    return {\n      loaded: true\n    };\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleChange\", ({\n      target: {\n        value\n      }\n    }) => {\n      store.dispatch(changeInputAction(value));\n    });\n\n    _defineProperty(this, \"handleClick\", () => {\n      store.dispatch(addItemAction());\n    });\n\n    _defineProperty(this, \"handleRemoveItem\", index => {\n      store.dispatch(removeItemAction(index));\n    });\n\n    this.state = store.getState();\n    this.data = ['早8点开晨会，分配今天的开发工作', '早9点和项目经理作开发需求讨论会', '晚5:30对今日代码进行review'];\n    store.subscribe(() => this.changeStore());\n  }\n\n  changeStore() {\n    this.setState(store.getState());\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Head, {\n        children: /*#__PURE__*/_jsx(\"title\", {\n          children: \"Home Page\"\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(_Input, {\n          placeholder: 'Next.js',\n          style: {\n            width: 250\n          },\n          value: this.state.inputValue,\n          ref: input => this.input = input,\n          onChange: e => this.handleChange(e)\n        }), /*#__PURE__*/_jsx(_Button, {\n          type: 'primary',\n          onClick: () => this.handleClick(),\n          children: \"\\u6DFB\\u52A0\"\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(_List, {\n          bordered: true,\n          dataSource: this.state.list,\n          renderItem: (item, index) => /*#__PURE__*/_jsx(_List.Item, {\n            onClick: () => this.handleRemoveItem(index),\n            children: item\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: this.state.countryList.code === 0 ? /*#__PURE__*/_jsxs(_Select, {\n          style: {\n            width: 200\n          },\n          children: [/*#__PURE__*/_jsx(OptGroup, {\n            label: \"常用\",\n            children: this.state.countryList.data['common'].map((data, index) => /*#__PURE__*/_jsx(Option, {\n              value: data.id,\n              children: data.cname\n            }, data.id))\n          }), /*#__PURE__*/_jsx(OptGroup, {\n            label: \"其他\",\n            children: this.state.countryList.data['others'].map((data, index) => /*#__PURE__*/_jsx(Option, {\n              value: data.id,\n              children: data.cname\n            }, data.id))\n          })]\n        }) : \"\"\n      })]\n    });\n  }\n\n}\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}