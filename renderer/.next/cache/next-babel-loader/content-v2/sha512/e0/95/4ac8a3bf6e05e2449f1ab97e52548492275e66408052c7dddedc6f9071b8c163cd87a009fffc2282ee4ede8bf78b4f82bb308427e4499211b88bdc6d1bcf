{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/yuxuan/Desktop/Bilibili-MacOS-Windows-Client/renderer/components/global/Layout.jsx\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport '../../styles/layout.css';\nimport App from '../../pages/app';\nimport Category from \"../../pages/category\";\nimport News from \"../../pages/news\";\nimport User from \"../../pages/user\";\nexport default class Layout extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleChangePage\", page => {\n      this.setState({\n        page\n      });\n    });\n\n    this.state = {\n      page: '/app',\n      autoHeight: 0,\n      scroll: {\n        'app': 0,\n        'category': 0,\n        'news': 0,\n        'user': 0\n      },\n      menuList: [{\n        name: '首页',\n        href: '/app',\n        icon: 'icon-shouye'\n      }, {\n        name: '分区',\n        href: '/category',\n        icon: 'icon-category'\n      }, {\n        name: '动态',\n        href: '/news',\n        icon: 'icon-dongtai'\n      }, {\n        name: '我的',\n        href: '/user',\n        icon: 'icon-bilibili-line'\n      }]\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\n    console.log(nextState);\n    return true;\n  }\n\n  componentDidMount() {\n    const _this = this;\n    /* 自动设置全局导航和全局内容区块的高度和位置 */\n\n\n    this.setState({\n      autoHeight: window.innerHeight - 60\n    });\n    window.addEventListener('resize', e => {\n      _this.setState({\n        autoHeight: window.innerHeight - 60\n      });\n    });\n\n    switch (_this.state.page) {\n      case 'app':\n        _this.app.scrollTo(0, _this.state.scroll['app']);\n\n        break;\n\n      case 'category':\n        _this.app.scrollTo(0, _this.state.scroll['category']);\n\n        break;\n\n      case 'news':\n        _this.app.scrollTo(0, _this.state.scroll['news']);\n\n        break;\n\n      case 'user':\n        _this.app.scrollTo(0, _this.state.scroll['user']);\n\n    }\n\n    this.app.addEventListener('scroll', () => {\n      console.log(_this.app.scrollTop);\n      const newState = JSON.parse(JSON.stringify(this.state.scroll));\n\n      switch (_this.state.page) {\n        case 'app':\n          newState['app'] = _this.app.scrollTop;\n          break;\n\n        case 'category':\n          newState['category'] = _this.app.scrollTop;\n          break;\n\n        case 'news':\n          newState['news'] = _this.app.scrollTop;\n          break;\n\n        case 'user':\n          newState['user'] = _this.app.scrollTop;\n      }\n\n      this.setState(newState);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"layout-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          id: \"layout-content-container\",\n          ref: app => this.app = app,\n          className: _JSXStyle.dynamic([[\"4184239453\", [this.state.autoHeight]]]),\n          children: [/*#__PURE__*/_jsxDEV(App, {\n            display: this.state.page === '/app' ? true : false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Category, {\n            display: this.state.page === '/category' ? true : false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(News, {\n            display: this.state.page === '/news' ? true : false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(User, {\n            display: this.state.page === '/user' ? true : false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n            id: \"4184239453\",\n            dynamic: [this.state.autoHeight],\n            children: `#layout-content-container.__jsx-style-dynamic-selector{width:100%;height:${this.state.autoHeight}px;}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95dXh1YW4vRGVza3RvcC9CaWxpYmlsaS1NYWNPUy1XaW5kb3dzLUNsaWVudC9yZW5kZXJlci9jb21wb25lbnRzL2dsb2JhbC9MYXlvdXQuanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1INkIsQUFHNEMsV0FDMkIsc0NBQ3hDIiwiZmlsZSI6Ii9Vc2Vycy95dXh1YW4vRGVza3RvcC9CaWxpYmlsaS1NYWNPUy1XaW5kb3dzLUNsaWVudC9yZW5kZXJlci9jb21wb25lbnRzL2dsb2JhbC9MYXlvdXQuanN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICcuLi8uLi9zdHlsZXMvbGF5b3V0LmNzcyc7XG5pbXBvcnQgQXBwIGZyb20gJy4uLy4uL3BhZ2VzL2FwcCc7XG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSBcIi4uLy4uL3BhZ2VzL2NhdGVnb3J5XCI7XG5pbXBvcnQgTmV3cyBmcm9tIFwiLi4vLi4vcGFnZXMvbmV3c1wiO1xuaW1wb3J0IFVzZXIgZnJvbSBcIi4uLy4uL3BhZ2VzL3VzZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgcGFnZTogJy9hcHAnLFxuICAgICAgICAgICAgYXV0b0hlaWdodDogMCxcbiAgICAgICAgICAgIHNjcm9sbDoge1xuICAgICAgICAgICAgICAgICdhcHAnOiAwLFxuICAgICAgICAgICAgICAgICdjYXRlZ29yeSc6IDAsXG4gICAgICAgICAgICAgICAgJ25ld3MnOiAwLFxuICAgICAgICAgICAgICAgICd1c2VyJzogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1lbnVMaXN0OiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAn6aaW6aG1JyxcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogJy9hcHAnLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnaWNvbi1zaG91eWUnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICfliIbljLonLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiAnL2NhdGVnb3J5JyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ljb24tY2F0ZWdvcnknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICfliqjmgIEnLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiAnL25ld3MnLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnaWNvbi1kb25ndGFpJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAn5oiR55qEJyxcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogJy91c2VyJyxcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ljb24tYmlsaWJpbGktbGluZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKG5leHRTdGF0ZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgLyog6Ieq5Yqo6K6+572u5YWo5bGA5a+86Iiq5ZKM5YWo5bGA5YaF5a655Yy65Z2X55qE6auY5bqm5ZKM5L2N572uICovXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYXV0b0hlaWdodDogd2luZG93LmlubmVySGVpZ2h0IC0gNjBcbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGF1dG9IZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAtIDYwXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBzd2l0Y2goX3RoaXMuc3RhdGUucGFnZSl7XG4gICAgICAgICAgICBjYXNlICdhcHAnOlxuICAgICAgICAgICAgICAgIF90aGlzLmFwcC5zY3JvbGxUbygwLCBfdGhpcy5zdGF0ZS5zY3JvbGxbJ2FwcCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NhdGVnb3J5JzpcbiAgICAgICAgICAgICAgICBfdGhpcy5hcHAuc2Nyb2xsVG8oMCwgX3RoaXMuc3RhdGUuc2Nyb2xsWydjYXRlZ29yeSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ25ld3MnOlxuICAgICAgICAgICAgICAgIF90aGlzLmFwcC5zY3JvbGxUbygwLCBfdGhpcy5zdGF0ZS5zY3JvbGxbJ25ld3MnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgICAgICAgICBfdGhpcy5hcHAuc2Nyb2xsVG8oMCwgX3RoaXMuc3RhdGUuc2Nyb2xsWyd1c2VyJ10pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHAuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuYXBwLnNjcm9sbFRvcClcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlLnNjcm9sbCkpO1xuICAgICAgICAgICAgc3dpdGNoKF90aGlzLnN0YXRlLnBhZ2Upe1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FwcCc6XG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlWydhcHAnXSA9IF90aGlzLmFwcC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NhdGVnb3J5JzpcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGVbJ2NhdGVnb3J5J10gPSBfdGhpcy5hcHAuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICduZXdzJzpcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGVbJ25ld3MnXSA9IF90aGlzLmFwcC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZVsndXNlciddID0gX3RoaXMuYXBwLnNjcm9sbFRvcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2hhbmdlUGFnZSA9IChwYWdlKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcGFnZVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8c2VjdGlvbiBpZD1cImxheW91dC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gaWQ9XCJsYXlvdXQtY29udGVudC1jb250YWluZXJcIiByZWY9e2FwcCA9PiB0aGlzLmFwcCA9IGFwcH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QXBwIGRpc3BsYXk9e3RoaXMuc3RhdGUucGFnZSA9PT0gJy9hcHAnID8gIHRydWU6IGZhbHNlfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENhdGVnb3J5IGRpc3BsYXk9e3RoaXMuc3RhdGUucGFnZSA9PT0gJy9jYXRlZ29yeScgPyAgdHJ1ZTogZmFsc2V9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TmV3cyBkaXNwbGF5PXt0aGlzLnN0YXRlLnBhZ2UgPT09ICcvbmV3cycgPyAgdHJ1ZTogZmFsc2V9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VXNlciBkaXNwbGF5PXt0aGlzLnN0YXRlLnBhZ2UgPT09ICcvdXNlcicgPyAgdHJ1ZTogZmFsc2V9IC8+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNsYXlvdXQtY29udGVudC1jb250YWluZXJ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICR7dGhpcy5zdGF0ZS5hdXRvSGVpZ2h0fXB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XG5cbiAgICAgICAgICAgICAgICAgICAgPGZvb3RlciBpZD1cImxheW91dC1uYXZpZ2F0aW9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUubWVudUxpc3QubWFwKChtZW51LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0LW5hdmlnYXRpb24taXRlbSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkeyhtZW51LmhyZWYuaW5jbHVkZXModGhpcy5zdGF0ZS5wYWdlKSA/ICdhY3RpdmUnOiAnJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXttZW51LmhyZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUNoYW5nZVBhZ2UobWVudS5ocmVmKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtgaWNvbmZvbnQgJHttZW51Lmljb259IGxheW91dC1uYXZpZ2F0aW9uLWljb25gfT48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bWVudS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvZm9vdGVyPlxuICAgICAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApXG4gICAgfVxufSJdfQ== */\n/*@ sourceURL=/Users/yuxuan/Desktop/Bilibili-MacOS-Windows-Client/renderer/components/global/Layout.jsx */`\n          }, void 0, false, void 0, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          id: \"layout-navigation-container\",\n          children: this.state.menuList.map((menu, index) => /*#__PURE__*/_jsxDEV(\"a\", {\n            className: `\n                                        layout-navigation-item \n                                        ${menu.href.includes(this.state.page) ? 'active' : ''}\n                                    `,\n            onClick: () => this.handleChangePage(menu.href),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: `iconfont ${menu.icon} layout-navigation-icon`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: menu.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 37\n            }, this)]\n          }, menu.href, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["/Users/yuxuan/Desktop/Bilibili-MacOS-Windows-Client/renderer/components/global/Layout.jsx"],"names":["React","useState","App","Category","News","User","Layout","Component","constructor","props","page","setState","state","autoHeight","scroll","menuList","name","href","icon","shouldComponentUpdate","nextProps","nextState","nextContext","console","log","componentDidMount","_this","window","innerHeight","addEventListener","e","app","scrollTo","scrollTop","newState","JSON","parse","stringify","render","map","menu","index","includes","handleChangePage"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,yBAAP;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AAEA,eAAe,MAAMC,MAAN,SAAqBN,KAAK,CAACO,SAA3B,CAAoC;AAE/CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,8CAyFCC,IAAD,IAAU;AACzB,WAAKC,QAAL,CAAc;AACVD,QAAAA;AADU,OAAd;AAGH,KA7FkB;;AAEf,SAAKE,KAAL,GAAa;AACTF,MAAAA,IAAI,EAAE,MADG;AAETG,MAAAA,UAAU,EAAE,CAFH;AAGTC,MAAAA,MAAM,EAAE;AACJ,eAAO,CADH;AAEJ,oBAAY,CAFR;AAGJ,gBAAQ,CAHJ;AAIJ,gBAAQ;AAJJ,OAHC;AASTC,MAAAA,QAAQ,EAAE,CACN;AACIC,QAAAA,IAAI,EAAE,IADV;AAEIC,QAAAA,IAAI,EAAE,MAFV;AAGIC,QAAAA,IAAI,EAAE;AAHV,OADM,EAMN;AACIF,QAAAA,IAAI,EAAE,IADV;AAEIC,QAAAA,IAAI,EAAE,WAFV;AAGIC,QAAAA,IAAI,EAAE;AAHV,OANM,EAWN;AACIF,QAAAA,IAAI,EAAE,IADV;AAEIC,QAAAA,IAAI,EAAE,OAFV;AAGIC,QAAAA,IAAI,EAAE;AAHV,OAXM,EAgBN;AACIF,QAAAA,IAAI,EAAE,IADV;AAEIC,QAAAA,IAAI,EAAE,OAFV;AAGIC,QAAAA,IAAI,EAAE;AAHV,OAhBM;AATD,KAAb;AAgCH;;AAEDC,EAAAA,qBAAqB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,WAAvB,EAAoC;AACrDC,IAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACA,WAAO,IAAP;AACH;;AAEDI,EAAAA,iBAAiB,GAAG;AAChB,UAAMC,KAAK,GAAG,IAAd;AAEA;;;AACA,SAAKf,QAAL,CAAc;AACVE,MAAAA,UAAU,EAAEc,MAAM,CAACC,WAAP,GAAqB;AADvB,KAAd;AAGAD,IAAAA,MAAM,CAACE,gBAAP,CAAwB,QAAxB,EAAmCC,CAAD,IAAO;AACrCJ,MAAAA,KAAK,CAACf,QAAN,CAAe;AACXE,QAAAA,UAAU,EAAEc,MAAM,CAACC,WAAP,GAAqB;AADtB,OAAf;AAGH,KAJD;;AAMA,YAAOF,KAAK,CAACd,KAAN,CAAYF,IAAnB;AACI,WAAK,KAAL;AACIgB,QAAAA,KAAK,CAACK,GAAN,CAAUC,QAAV,CAAmB,CAAnB,EAAsBN,KAAK,CAACd,KAAN,CAAYE,MAAZ,CAAmB,KAAnB,CAAtB;;AACA;;AACJ,WAAK,UAAL;AACIY,QAAAA,KAAK,CAACK,GAAN,CAAUC,QAAV,CAAmB,CAAnB,EAAsBN,KAAK,CAACd,KAAN,CAAYE,MAAZ,CAAmB,UAAnB,CAAtB;;AACA;;AACJ,WAAK,MAAL;AACIY,QAAAA,KAAK,CAACK,GAAN,CAAUC,QAAV,CAAmB,CAAnB,EAAsBN,KAAK,CAACd,KAAN,CAAYE,MAAZ,CAAmB,MAAnB,CAAtB;;AACA;;AACJ,WAAK,MAAL;AACIY,QAAAA,KAAK,CAACK,GAAN,CAAUC,QAAV,CAAmB,CAAnB,EAAsBN,KAAK,CAACd,KAAN,CAAYE,MAAZ,CAAmB,MAAnB,CAAtB;;AAXR;;AAcA,SAAKiB,GAAL,CAASF,gBAAT,CAA0B,QAA1B,EAAoC,MAAM;AACtCN,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACK,GAAN,CAAUE,SAAtB;AACA,YAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKzB,KAAL,CAAWE,MAA1B,CAAX,CAAjB;;AACA,cAAOY,KAAK,CAACd,KAAN,CAAYF,IAAnB;AACI,aAAK,KAAL;AACIwB,UAAAA,QAAQ,CAAC,KAAD,CAAR,GAAkBR,KAAK,CAACK,GAAN,CAAUE,SAA5B;AACA;;AACJ,aAAK,UAAL;AACIC,UAAAA,QAAQ,CAAC,UAAD,CAAR,GAAuBR,KAAK,CAACK,GAAN,CAAUE,SAAjC;AACA;;AACJ,aAAK,MAAL;AACIC,UAAAA,QAAQ,CAAC,MAAD,CAAR,GAAmBR,KAAK,CAACK,GAAN,CAAUE,SAA7B;AACA;;AACJ,aAAK,MAAL;AACIC,UAAAA,QAAQ,CAAC,MAAD,CAAR,GAAmBR,KAAK,CAACK,GAAN,CAAUE,SAA7B;AAXR;;AAcA,WAAKtB,QAAL,CAAcuB,QAAd;AACH,KAlBD;AAmBH;;AAQDI,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,6BACI;AAAS,QAAA,EAAE,EAAC,kBAAZ;AAAA,gCACI;AAAS,UAAA,EAAE,EAAC,0BAAZ;AAAuC,UAAA,GAAG,EAAEP,GAAG,IAAI,KAAKA,GAAL,GAAWA,GAA9D;AAAA,wDAUsB,KAAKnB,KAAL,CAAWC,UAVjC;AAAA,kCACI,QAAC,GAAD;AAAK,YAAA,OAAO,EAAE,KAAKD,KAAL,CAAWF,IAAX,KAAoB,MAApB,GAA8B,IAA9B,GAAoC;AAAlD;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,QAAD;AAAU,YAAA,OAAO,EAAE,KAAKE,KAAL,CAAWF,IAAX,KAAoB,WAApB,GAAmC,IAAnC,GAAyC;AAA5D;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI,QAAC,IAAD;AAAM,YAAA,OAAO,EAAE,KAAKE,KAAL,CAAWF,IAAX,KAAoB,OAApB,GAA+B,IAA/B,GAAqC;AAApD;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII,QAAC,IAAD;AAAM,YAAA,OAAO,EAAE,KAAKE,KAAL,CAAWF,IAAX,KAAoB,OAApB,GAA+B,IAA/B,GAAqC;AAApD;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA,sBAUsB,KAAKE,KAAL,CAAWC,UAVjC;AAAA,kGAUsB,KAAKD,KAAL,CAAWC,UAVjC;AACpB;AACA;AAFoB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAiBI;AAAQ,UAAA,EAAE,EAAC,6BAAX;AAAA,oBAEQ,KAAKD,KAAL,CAAWG,QAAX,CAAoBwB,GAApB,CAAwB,CAACC,IAAD,EAAOC,KAAP,kBACpB;AACI,YAAA,SAAS,EAAG;AAChD;AACA,0CAA2CD,IAAI,CAACvB,IAAL,CAAUyB,QAAV,CAAmB,KAAK9B,KAAL,CAAWF,IAA9B,IAAsC,QAAtC,GAAgD,EAAI;AAC/F,qCAJgC;AAMI,YAAA,OAAO,EAAE,MAAM,KAAKiC,gBAAL,CAAsBH,IAAI,CAACvB,IAA3B,CANnB;AAAA,oCAQI;AAAG,cAAA,SAAS,EAAG,YAAWuB,IAAI,CAACtB,IAAK;AAApC;AAAA;AAAA;AAAA;AAAA,oBARJ,eASI;AAAA,wBAAOsB,IAAI,CAACxB;AAAZ;AAAA;AAAA;AAAA;AAAA,oBATJ;AAAA,aAKSwB,IAAI,CAACvB,IALd;AAAA;AAAA;AAAA;AAAA,kBADJ;AAFR;AAAA;AAAA;AAAA;AAAA,gBAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,qBADJ;AAuCH;;AAzI8C","sourcesContent":["import React, { useState } from 'react';\nimport '../../styles/layout.css';\nimport App from '../../pages/app';\nimport Category from \"../../pages/category\";\nimport News from \"../../pages/news\";\nimport User from \"../../pages/user\";\n\nexport default class Layout extends React.Component{\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            page: '/app',\n            autoHeight: 0,\n            scroll: {\n                'app': 0,\n                'category': 0,\n                'news': 0,\n                'user': 0\n            },\n            menuList: [\n                {\n                    name: '首页',\n                    href: '/app',\n                    icon: 'icon-shouye'\n                },\n                {\n                    name: '分区',\n                    href: '/category',\n                    icon: 'icon-category'\n                },\n                {\n                    name: '动态',\n                    href: '/news',\n                    icon: 'icon-dongtai'\n                },\n                {\n                    name: '我的',\n                    href: '/user',\n                    icon: 'icon-bilibili-line'\n                }\n            ]\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        console.log(nextState);\n        return true;\n    }\n\n    componentDidMount() {\n        const _this = this;\n\n        /* 自动设置全局导航和全局内容区块的高度和位置 */\n        this.setState({\n            autoHeight: window.innerHeight - 60\n        });\n        window.addEventListener('resize', (e) => {\n            _this.setState({\n                autoHeight: window.innerHeight - 60\n            })\n        });\n\n        switch(_this.state.page){\n            case 'app':\n                _this.app.scrollTo(0, _this.state.scroll['app']);\n                break;\n            case 'category':\n                _this.app.scrollTo(0, _this.state.scroll['category']);\n                break;\n            case 'news':\n                _this.app.scrollTo(0, _this.state.scroll['news']);\n                break;\n            case 'user':\n                _this.app.scrollTo(0, _this.state.scroll['user']);\n        }\n\n        this.app.addEventListener('scroll', () => {\n            console.log(_this.app.scrollTop)\n            const newState = JSON.parse(JSON.stringify(this.state.scroll));\n            switch(_this.state.page){\n                case 'app':\n                    newState['app'] = _this.app.scrollTop;\n                    break;\n                case 'category':\n                    newState['category'] = _this.app.scrollTop;\n                    break;\n                case 'news':\n                    newState['news'] = _this.app.scrollTop;\n                    break;\n                case 'user':\n                    newState['user'] = _this.app.scrollTop;\n            }\n\n            this.setState(newState)\n        });\n    }\n\n    handleChangePage = (page) => {\n        this.setState({\n            page\n        })\n    }\n\n    render() {\n        return(\n            <>\n                <section id=\"layout-container\">\n                    <section id=\"layout-content-container\" ref={app => this.app = app}>\n                        <App display={this.state.page === '/app' ?  true: false} />\n                        <Category display={this.state.page === '/category' ?  true: false} />\n                        <News display={this.state.page === '/news' ?  true: false} />\n                        <User display={this.state.page === '/user' ?  true: false} />\n\n                        <style jsx>\n                            {`\n                              #layout-content-container{\n                                width: 100%;\n                                height: ${this.state.autoHeight}px;\n                              }\n                            `}\n                        </style>\n                    </section>\n\n                    <footer id=\"layout-navigation-container\">\n                        {\n                            this.state.menuList.map((menu, index) => (\n                                <a\n                                    className={`\n                                        layout-navigation-item \n                                        ${(menu.href.includes(this.state.page) ? 'active': '')}\n                                    `}\n                                    key={menu.href}\n                                    onClick={() => this.handleChangePage(menu.href)}\n                                >\n                                    <i className={`iconfont ${menu.icon} layout-navigation-icon`}></i>\n                                    <span>{menu.name}</span>\n                                </a>\n                            ))\n                        }\n                    </footer>\n                </section>\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}