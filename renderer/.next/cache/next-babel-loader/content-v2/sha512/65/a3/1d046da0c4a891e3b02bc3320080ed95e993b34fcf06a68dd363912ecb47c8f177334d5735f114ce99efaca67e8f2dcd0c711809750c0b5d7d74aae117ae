{"ast":null,"code":"import \"antd/lib/button/style/css\";\nimport _Button from \"antd/lib/button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/yuxuan/Desktop/Bilibili-MacOS-Windows-Client/renderer/components/userPage/user.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport LoginPanel from \"../common/LoginPanel\";\nimport store from \"../../redux/store\";\nexport default function User(props) {\n  _s();\n\n  var _useState = useState(false),\n      display = _useState[0],\n      setDisplay = _useState[1];\n\n  var _useState2 = useState(store.getState().userInfo),\n      profile = _useState2[0],\n      setProfile = _useState2[1];\n\n  useEffect(function () {\n    setProfile(store.getState().userInfo);\n  }, [store.getState().userInfo.isLogin]);\n\n  function handleLogin() {\n    setDisplay(!display);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    style: {\n      display: props.display ? 'block' : 'none'\n    },\n    children: [!profile.isLogin && /*#__PURE__*/_jsxDEV(_Button, {\n      type: \"primary\",\n      onClick: function onClick() {\n        return handleLogin();\n      },\n      children: \"\\u767B\\u5F55\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 37\n    }, this), display && /*#__PURE__*/_jsxDEV(LoginPanel, {\n      display: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 28\n    }, this), profile.isLogin && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: profile.face,\n      alt: \"avatar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 36\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, this);\n}\n\n_s(User, \"OUpT81f66iQ5+MSQQVZjpHMiEeY=\");\n\n_c = User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["/Users/yuxuan/Desktop/Bilibili-MacOS-Windows-Client/renderer/components/userPage/user.jsx"],"names":["React","useEffect","useState","LoginPanel","store","User","props","display","setDisplay","getState","userInfo","profile","setProfile","isLogin","handleLogin","face"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AAEA,OAAOC,KAAP,MAAkB,mBAAlB;AAEA,eAAe,SAASC,IAAT,CAAeC,KAAf,EAAqB;AAAA;;AAAA,kBAEFJ,QAAQ,CAAC,KAAD,CAFN;AAAA,MAEzBK,OAFyB;AAAA,MAEhBC,UAFgB;;AAAA,mBAGFN,QAAQ,CAACE,KAAK,CAACK,QAAN,GAAiBC,QAAlB,CAHN;AAAA,MAGzBC,OAHyB;AAAA,MAGhBC,UAHgB;;AAMhCX,EAAAA,SAAS,CAAC,YAAM;AACZW,IAAAA,UAAU,CAACR,KAAK,CAACK,QAAN,GAAiBC,QAAlB,CAAV;AACH,GAFQ,EAEN,CAACN,KAAK,CAACK,QAAN,GAAiBC,QAAjB,CAA0BG,OAA3B,CAFM,CAAT;;AAIA,WAASC,WAAT,GAAsB;AAClBN,IAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACH;;AAED,sBACI;AAAS,IAAA,KAAK,EAAE;AAACA,MAAAA,OAAO,EAAGD,KAAK,CAACC,OAAN,GAAe,OAAf,GAAwB;AAAnC,KAAhB;AAAA,eAEQ,CAACI,OAAO,CAACE,OAAT,iBAAoB;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,OAAO,EAAE;AAAA,eAAMC,WAAW,EAAjB;AAAA,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAF5B,EAKQP,OAAO,iBAAI,QAAC,UAAD;AAAY,MAAA,OAAO,EAAEO;AAArB;AAAA;AAAA;AAAA;AAAA,YALnB,EASQH,OAAO,CAACE,OAAR,iBAAmB;AAAK,MAAA,GAAG,EAAEF,OAAO,CAACI,IAAlB;AAAwB,MAAA,GAAG,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,YAT3B;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH;;GA7BuBV,I;;KAAAA,I","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport LoginPanel from \"../common/LoginPanel\";\nimport {Button} from 'antd';\nimport store from \"../../redux/store\";\n\nexport default function User (props){\n\n    const [display, setDisplay] = useState(false);\n    const [profile, setProfile] = useState(store.getState().userInfo);\n\n\n    useEffect(() => {\n        setProfile(store.getState().userInfo);\n    }, [store.getState().userInfo.isLogin]);\n\n    function handleLogin(){\n        setDisplay(!display);\n    }\n\n    return(\n        <section style={{display: (props.display? 'block': 'none')}}>\n            {\n                !profile.isLogin && <Button type='primary' onClick={() => handleLogin()}>登录</Button>\n            }\n            {\n                display && <LoginPanel display={handleLogin}/>\n            }\n            \n            {\n                profile.isLogin && <img src={profile.face} alt=\"avatar\"/>\n            }\n\n        </section>\n    )\n}"]},"metadata":{},"sourceType":"module"}