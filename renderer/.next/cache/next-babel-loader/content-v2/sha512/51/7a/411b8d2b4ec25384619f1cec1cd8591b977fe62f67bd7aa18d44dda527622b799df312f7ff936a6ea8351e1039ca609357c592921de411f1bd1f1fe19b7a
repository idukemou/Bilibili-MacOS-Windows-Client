{"ast":null,"code":"import \"antd/lib/input/style/css\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/message/style/css\";\nimport _message from \"antd/lib/message\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/yuxuan/Desktop/Bilibili-MacOS-Windows-Client/renderer/components/common/LoginPanel.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nimport '../../styles/login.css';\nimport Header from \"../layout/header\";\nimport store from \"../../redux/store\";\nimport electron from \"electron\";\nimport { getCountryListAction, getUserInfoAction } from \"../../redux/actionCreators\";\nvar ipcRenderer = electron.ipcRenderer || false;\nvar captchaToken = {\n  gt: \"\",\n  challenge: \"\",\n  key: \"\",\n  validate: \"\",\n  seccode: \"\"\n};\n\nif (ipcRenderer) {\n  ipcRenderer.send(\"request_country_list\");\n  ipcRenderer.once(\"fetch_country_list\", function (event, data) {\n    store.dispatch(getCountryListAction(data));\n  });\n}\n/**\n * Country list panel.\n * @param props\n * @returns {JSX.Element}\n * @constructor\n */\n\n\nfunction CountryListSelect(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(store.getState().countryList),\n      countryList = _useState[0],\n      setCountryList = _useState[1];\n\n  var _useState2 = useState(false),\n      display = _useState2[0],\n      setDisplay = _useState2[1];\n\n  useEffect(function () {\n    setCountryList(store.getState().countryList);\n  }, [store.getState().countryList]);\n  useEffect(function () {\n    props.show && setDisplay(true);\n  }, [props.show]);\n\n  function closePanel() {\n    props.handleShowCountryList();\n    setTimeout(function () {\n      setDisplay(false);\n    }, 600);\n  }\n\n  function selectCountry(data) {\n    props.changeCountry(data);\n    closePanel();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"login-panel-wrapper country-selector-wrapper country-selector-\".concat(props.show ? 'show' : 'hide'),\n    style: {\n      display: display ? 'block' : 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      left: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"iconfont icon-back login-close-btn\",\n        onClick: function onClick() {\n          return closePanel();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this),\n      center: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u9009\\u62E9\\u56FD\\u5BB6\\u5730\\u533A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"country-selector-content\",\n      children: countryList.map(function (countryItem) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"country-list-item\",\n          onClick: function onClick() {\n            return selectCountry({\n              id: countryItem.id,\n              cname: countryItem.cname,\n              country_id: countryItem.country_id\n            });\n          },\n          children: countryItem.cname\n        }, countryItem.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CountryListSelect, \"k24dkr6EVzdHHUEI0ZsgKLI1MyA=\");\n\n_c = CountryListSelect;\n\nfunction CaptchaPanel(props) {\n  _s2();\n\n  function appendCaptchaPanel(captcha) {\n    captcha.appendTo(document.getElementById(\"captcha-panel-wrapper\"));\n    captcha.onSuccess(function () {\n      var result = captcha.getValidate();\n      console.log([result.geetest_validate, result.geetest_seccode]);\n      captchaToken.validate = result.geetest_validate;\n      captchaToken.seccode = result.geetest_seccode;\n      props.setShowCaptchaPanel(false);\n      props.sendCaptchaCode();\n    });\n  }\n\n  function showCaptchaPanel() {\n    window.initGeetest({\n      gt: captchaToken.gt,\n      challenge: captchaToken.challenge,\n      offline: false,\n      new_captcha: true,\n      product: \"popup\",\n      width: \"340px\",\n      https: true\n    }, appendCaptchaPanel);\n  }\n\n  useEffect(function () {\n    showCaptchaPanel();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"captcha-panel-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"captcha-panel-wrapper\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 9\n  }, this);\n}\n/**\n * Login main panel.\n * @param props\n * @returns {JSX.Element}\n * @constructor\n */\n\n\n_s2(CaptchaPanel, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c2 = CaptchaPanel;\nexport default function LoginPanel(props) {\n  _s3();\n\n  var data = {\n    loginMethod: {\n      smscode: \"smscode\",\n      password: \"password\",\n      unknown: \"unknown\"\n    },\n    title: {\n      smscode: \"手机号登录注册\",\n      password: \"密码登录\",\n      unknown: \"未知登录方式\"\n    }\n  }; // method: smscode | password | qrcode\n\n  var _useState3 = useState(data.loginMethod.smscode),\n      loginMethod = _useState3[0],\n      setLoginMethod = _useState3[1];\n\n  var _useState4 = useState(true),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var _useState5 = useState(),\n      tel = _useState5[0],\n      setTel = _useState5[1];\n\n  var _useState6 = useState(),\n      captchaCode = _useState6[0],\n      setCaptchaCode = _useState6[1];\n\n  var title = data.title[loginMethod];\n\n  var _useState7 = useState({\n    id: 1,\n    cname: \"中国大陆\",\n    country_id: 86\n  }),\n      country = _useState7[0],\n      setCountry = _useState7[1];\n\n  var _useState8 = useState(false),\n      showCountryList = _useState8[0],\n      setShowCountryList = _useState8[1];\n\n  var _useState9 = useState(false),\n      showCaptchaPanel = _useState9[0],\n      setShowCaptchaPanel = _useState9[1];\n\n  function closePenal() {\n    setShow(false);\n    setTimeout(function () {\n      props.display();\n    }, 600);\n  }\n\n  function changeLoginMethod() {\n    switch (loginMethod) {\n      case 'smscode':\n        setLoginMethod(data.loginMethod.password);\n        break;\n\n      case 'password':\n        setLoginMethod(data.loginMethod.smscode);\n        break;\n\n      default:\n        setLoginMethod(data.loginMethod.unknown);\n    }\n  }\n\n  function handleShowCountryList() {\n    setShowCountryList(!showCountryList);\n  }\n\n  function changeCountry(data) {\n    setCountry(data);\n  }\n\n  function displayCaptchaPanel() {\n    if (showCaptchaPanel === true || tel.length < 6) return;\n    ipcRenderer.invoke('request_captcha_token').then(function (data) {\n      captchaToken.gt = data.gt;\n      captchaToken.challenge = data.challenge;\n      captchaToken.key = data.key;\n      return true;\n    }).then(function (res) {\n      res && setShowCaptchaPanel(true);\n    });\n  }\n\n  function handleTelChange(_ref) {\n    var value = _ref.target.value;\n    setTel(value);\n  }\n\n  function handleCaptchaCodeChange(_ref2) {\n    var value = _ref2.target.value;\n    setCaptchaCode(value);\n  }\n\n  function sendCaptchaCode() {\n    // {tel, cid, key, challenge, validate, seccode}\n    if (ipcRenderer) {\n      ipcRenderer.invoke(\"send_captcha_code\", {\n        \"tel\": tel,\n        \"cid\": country.id,\n        \"key\": captchaToken.key,\n        \"challenge\": captchaToken.challenge,\n        \"validate\": captchaToken.validate,\n        \"seccode\": captchaToken.seccode\n      }).then(function (res) {\n        // {code: 1015, message: \"短信发送次数已达上限\"}\n        console.log(res);\n\n        if (res.code !== 0) {\n          _message.warn(res.message);\n        }\n      });\n    }\n  }\n\n  function userLogin() {\n    if (captchaCode.length !== 6) return;\n    ipcRenderer.invoke(\"request_user_login\", {\n      cid: country.id,\n      tel: tel,\n      smsCode: captchaCode\n    }).then(function (res) {\n      if (res.status === 0) {\n        if (ipcRenderer) {\n          ipcRenderer.invoke('request_is_user_login').then(function (data) {\n            store.dispatch(getUserInfoAction(data));\n          });\n        }\n\n        closePenal();\n\n        _message.success(\"登录成功\");\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"login-panel-container\",\n    onClick: function onClick(e) {\n      e.preventDefault();\n\n      if (e.target.id === 'login-panel-container') {\n        closePenal();\n      }\n    },\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"login-panel-container-wrapper\",\n      className: \"login-panel-\".concat(show ? 'show' : 'hide'),\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"login-panel-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          left: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"iconfont icon-close login-close-btn\",\n            onClick: function onClick() {\n              return closePenal();\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 29\n          }, this),\n          center: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 29\n          }, this),\n          right: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: function onClick() {\n              return changeLoginMethod();\n            },\n            children: loginMethod === 'smscode' ? data.title.password : data.title.smscode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"login-panel-content\",\n          children: [loginMethod === 'smscode' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-panel-content-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login-panel-input-filed\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-panel-input-item country-selector\",\n                onClick: function onClick() {\n                  return handleShowCountryList();\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: country.cname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"iconfont icon-next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-panel-input-item phone-number\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-item-title\",\n                  children: [\"+\", country.country_id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(_Input, {\n                  onChange: function onChange(e) {\n                    return handleTelChange(e);\n                  },\n                  placeholder: \"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\",\n                  maxLength: 16,\n                  allowClear: true,\n                  className: \"phone-number-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"getCaptcha\",\n                  onClick: function onClick() {\n                    return displayCaptchaPanel();\n                  },\n                  children: \"\\u83B7\\u53D6\\u9A8C\\u8BC1\\u7801\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-panel-input-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-item-title\",\n                  children: \"\\u9A8C\\u8BC1\\u7801\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(_Input, {\n                  onChange: function onChange(e) {\n                    return handleCaptchaCodeChange(e);\n                  },\n                  placeholder: \"\\u8BF7\\u8F93\\u5165\\u9A8C\\u8BC1\\u7801\",\n                  maxLength: 8,\n                  allowClear: true,\n                  className: \"captcha-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 37\n              }, this), showCaptchaPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-panel-input-item captcha-item\",\n                children: showCaptchaPanel && /*#__PURE__*/_jsxDEV(CaptchaPanel, {\n                  setShowCaptchaPanel: setShowCaptchaPanel,\n                  sendCaptchaCode: sendCaptchaCode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 66\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"smscode-validate-login-btn\",\n              onClick: function onClick() {\n                return userLogin();\n              },\n              children: \"\\u9A8C\\u8BC1\\u767B\\u5F55\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 58\n          }, this), loginMethod === 'password' && /*#__PURE__*/_jsxDEV(\"section\", {\n            id: \"login-panel-content-wrapper\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 59\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CountryListSelect, {\n        show: showCountryList,\n        handleShowCountryList: handleShowCountryList,\n        changeCountry: changeCountry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 9\n  }, this);\n}\n\n_s3(LoginPanel, \"A+SI34y+dUGrHmESlie1CjyeLcY=\");\n\n_c3 = LoginPanel;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CountryListSelect\");\n$RefreshReg$(_c2, \"CaptchaPanel\");\n$RefreshReg$(_c3, \"LoginPanel\");","map":{"version":3,"sources":["/Users/yuxuan/Desktop/Bilibili-MacOS-Windows-Client/renderer/components/common/LoginPanel.jsx"],"names":["useEffect","useRef","useState","Header","store","electron","getCountryListAction","getUserInfoAction","ipcRenderer","captchaToken","gt","challenge","key","validate","seccode","send","once","event","data","dispatch","CountryListSelect","props","getState","countryList","setCountryList","display","setDisplay","show","closePanel","handleShowCountryList","setTimeout","selectCountry","changeCountry","map","countryItem","id","cname","country_id","CaptchaPanel","appendCaptchaPanel","captcha","appendTo","document","getElementById","onSuccess","result","getValidate","console","log","geetest_validate","geetest_seccode","setShowCaptchaPanel","sendCaptchaCode","showCaptchaPanel","window","initGeetest","offline","new_captcha","product","width","https","LoginPanel","loginMethod","smscode","password","unknown","title","setLoginMethod","setShow","tel","setTel","captchaCode","setCaptchaCode","country","setCountry","showCountryList","setShowCountryList","closePenal","changeLoginMethod","displayCaptchaPanel","length","invoke","then","res","handleTelChange","value","target","handleCaptchaCodeChange","code","warn","message","userLogin","cid","smsCode","status","success","e","preventDefault"],"mappings":"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","sourcesContent":["import {useEffect, useRef, useState} from \"react\";\nimport {Input, message} from 'antd';\nimport '../../styles/login.css';\nimport Header from \"../layout/header\";\nimport store from \"../../redux/store\";\nimport electron from \"electron\";\nimport {getCountryListAction, getUserInfoAction} from \"../../redux/actionCreators\";\n\nconst ipcRenderer = electron.ipcRenderer || false;\nlet captchaToken = {\n    gt: \"\",\n    challenge: \"\",\n    key: \"\",\n    validate: \"\",\n    seccode: \"\"\n}\n\nif(ipcRenderer){\n    ipcRenderer.send(\"request_country_list\");\n    ipcRenderer.once(\"fetch_country_list\", (event, data) => {\n        store.dispatch(getCountryListAction(data));\n    });\n}\n\n/**\n * Country list panel.\n * @param props\n * @returns {JSX.Element}\n * @constructor\n */\nfunction CountryListSelect(props){\n    const [countryList, setCountryList] = useState(store.getState().countryList);\n    const [display, setDisplay] = useState(false);\n\n    useEffect(() => {\n        setCountryList(store.getState().countryList);\n    }, [store.getState().countryList])\n\n    useEffect(() => {\n        props.show && setDisplay(true);\n    }, [props.show]);\n\n    function closePanel(){\n        props.handleShowCountryList();\n        setTimeout(() => {\n            setDisplay(false);\n        }, 600);\n    }\n\n    function selectCountry(data){\n        props.changeCountry(data);\n        closePanel();\n    }\n\n    return (\n        <section\n            className={`login-panel-wrapper country-selector-wrapper country-selector-${props.show ? 'show' : 'hide'}`}\n            style={{display: (display? 'block': 'none')}}\n        >\n            <Header\n                left={\n                    <span className=\"iconfont icon-back login-close-btn\" onClick={() => closePanel()}/>\n                }\n                center={\n                    <span>选择国家地区</span>\n                }\n            />\n\n            <section className=\"country-selector-content\">\n                {\n                    countryList.map((countryItem) => (\n                        <div\n                            className=\"country-list-item\"\n                            key={countryItem.id}\n                            onClick={() => selectCountry({\n                                id: countryItem.id,\n                                cname: countryItem.cname,\n                                country_id: countryItem.country_id\n                            })}>\n                            {countryItem.cname}\n                        </div>\n                    ))\n                }\n            </section>\n        </section>\n    )\n}\n\n\nfunction CaptchaPanel(props){\n\n    function appendCaptchaPanel(captcha){\n        captcha.appendTo(document.getElementById(\"captcha-panel-wrapper\"));\n\n        captcha.onSuccess(() => {\n            const result = captcha.getValidate();\n            console.log([result.geetest_validate, result.geetest_seccode]);\n            captchaToken.validate = result.geetest_validate;\n            captchaToken.seccode = result.geetest_seccode;\n            props.setShowCaptchaPanel(false);\n            props.sendCaptchaCode();\n        })\n    }\n\n    function showCaptchaPanel(){\n        window.initGeetest({\n            gt: captchaToken.gt,\n            challenge: captchaToken.challenge,\n            offline: false,\n            new_captcha: true,\n            product: \"popup\",\n            width: \"340px\",\n            https: true\n        }, appendCaptchaPanel)\n    }\n\n    useEffect(() => {\n        showCaptchaPanel();\n    })\n\n    return(\n        <div id=\"captcha-panel-container\">\n            <div id=\"captcha-panel-wrapper\"></div>\n        </div>\n    )\n}\n\n\n\n/**\n * Login main panel.\n * @param props\n * @returns {JSX.Element}\n * @constructor\n */\nexport default function LoginPanel(props){\n\n    const data = {\n        loginMethod: {\n            smscode: \"smscode\",\n            password: \"password\",\n            unknown: \"unknown\"\n        },\n        title: {\n            smscode: \"手机号登录注册\",\n            password: \"密码登录\",\n            unknown: \"未知登录方式\"\n        }\n    }\n\n    // method: smscode | password | qrcode\n    const [loginMethod, setLoginMethod] = useState(data.loginMethod.smscode);\n    const [show, setShow] = useState(true);\n    const [tel, setTel] = useState();\n    const [captchaCode, setCaptchaCode] = useState();\n    let title = data.title[loginMethod];\n    const [country, setCountry] = useState({\n        id: 1,\n        cname: \"中国大陆\",\n        country_id: 86\n    });\n    const [showCountryList, setShowCountryList] = useState(false);\n    const [showCaptchaPanel, setShowCaptchaPanel] = useState(false);\n\n    function closePenal(){\n        setShow(false);\n        setTimeout(() => {\n            props.display();\n        }, 600);\n    }\n\n    function changeLoginMethod(){\n        switch (loginMethod) {\n            case 'smscode':\n                setLoginMethod(data.loginMethod.password);\n                break;\n            case 'password':\n                setLoginMethod(data.loginMethod.smscode);\n                break;\n            default:\n                setLoginMethod(data.loginMethod.unknown);\n        }\n    }\n\n    function handleShowCountryList(){\n        setShowCountryList(!showCountryList);\n    }\n\n    function changeCountry(data){\n        setCountry(data);\n    }\n\n    function displayCaptchaPanel(){\n        if(showCaptchaPanel === true || tel.length < 6) return;\n        ipcRenderer.invoke('request_captcha_token')\n            .then((data) => {\n                captchaToken.gt = data.gt;\n                captchaToken.challenge = data.challenge;\n                captchaToken.key = data.key;\n                return true;\n            })\n            .then(res => {\n                res && setShowCaptchaPanel(true);\n            })\n    }\n\n    function handleTelChange({target: {value}}){\n        setTel(value);\n    }\n\n    function handleCaptchaCodeChange({target: {value}}){\n        setCaptchaCode(value);\n    }\n\n    function sendCaptchaCode(){\n        // {tel, cid, key, challenge, validate, seccode}\n        if(ipcRenderer){\n            ipcRenderer.invoke(\"send_captcha_code\",{\n                \"tel\": tel,\n                \"cid\": country.id,\n                \"key\": captchaToken.key,\n                \"challenge\": captchaToken.challenge,\n                \"validate\": captchaToken.validate,\n                \"seccode\": captchaToken.seccode\n            })\n                .then(res => {\n                    // {code: 1015, message: \"短信发送次数已达上限\"}\n                    console.log(res);\n                    if(res.code !== 0){\n                        message.warn(res.message);\n                    }\n                })\n        }\n    }\n\n    function userLogin(){\n        if(captchaCode.length !== 6) return;\n        ipcRenderer.invoke(\"request_user_login\", {\n            cid: country.id,\n            tel: tel,\n            smsCode: captchaCode\n        })\n            .then(res => {\n                if(res.status === 0){\n                    if(ipcRenderer){\n                        ipcRenderer.invoke('request_is_user_login')\n                            .then((data) => {\n                                store.dispatch(getUserInfoAction(data));\n                            })\n                    }\n                    closePenal();\n                    message.success(\"登录成功\");\n                }\n            })\n    }\n\n    return (\n        <section id=\"login-panel-container\"\n            onClick={(e) => {\n                e.preventDefault();\n                if(e.target.id === 'login-panel-container'){\n                    closePenal();\n                }\n            }}\n        >\n            <section id=\"login-panel-container-wrapper\" className={`login-panel-${show ? 'show' : 'hide'}`}>\n                <section className={`login-panel-wrapper`}>\n                    <Header\n                        left={\n                            <span className=\"iconfont icon-close login-close-btn\" onClick={() => closePenal()} />\n                        }\n                        center={\n                            <span>{title}</span>\n                        }\n                        right={\n                            <a href=\"#\" onClick={() => changeLoginMethod()}>{loginMethod === 'smscode' ? data.title.password : data.title.smscode}</a>\n                        }\n                    />\n\n                    <section className=\"login-panel-content\">\n                        {\n                            loginMethod === 'smscode' && <div className=\"login-panel-content-wrapper\">\n                                <div className=\"login-panel-input-filed\">\n                                    <div className=\"login-panel-input-item country-selector\" onClick={() => handleShowCountryList()}>\n                                        <span>{country.cname}</span>\n                                        <i className=\"iconfont icon-next\" />\n                                    </div>\n\n                                    <div className=\"login-panel-input-item phone-number\">\n                                        <span className=\"input-item-title\">+{country.country_id}</span>\n                                        <Input\n                                            onChange={(e) => handleTelChange(e)}\n                                            placeholder=\"请输入手机号码\"\n                                            maxLength={16}\n                                            allowClear={true}\n                                            className=\"phone-number-input\"\n                                        />\n                                        <span className=\"getCaptcha\" onClick={() => displayCaptchaPanel()}>\n                                            获取验证码\n                                        </span>\n                                    </div>\n\n                                    <div className=\"login-panel-input-item\">\n                                        <span className=\"input-item-title\">验证码</span>\n                                        <Input\n                                            onChange={(e) => handleCaptchaCodeChange(e)}\n                                            placeholder=\"请输入验证码\"\n                                            maxLength={8}\n                                            allowClear={true}\n                                            className=\"captcha-input\"\n                                        />\n                                    </div>\n\n                                    {\n                                        showCaptchaPanel && <div className=\"login-panel-input-item captcha-item\">\n                                            {showCaptchaPanel && <CaptchaPanel setShowCaptchaPanel={setShowCaptchaPanel} sendCaptchaCode={sendCaptchaCode}/>}\n                                        </div>\n                                    }\n                                </div>\n\n                                <a\n                                    href=\"#\"\n                                    className=\"smscode-validate-login-btn\"\n                                    onClick={() => userLogin()}\n                                >\n                                    验证登录\n                                </a>\n                            </div>\n                        }\n\n                        {\n                            loginMethod === 'password' && <section id=\"login-panel-content-wrapper\"></section>\n                        }\n                    </section>\n                </section>\n\n                <CountryListSelect\n                    show={showCountryList}\n                    handleShowCountryList={handleShowCountryList}\n                    changeCountry={changeCountry}\n                />\n            </section>\n        </section>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}